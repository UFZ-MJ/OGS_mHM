# Source files
SET ( SOURCES
	rf.cpp
)


# Header files
SET( HEADERS
)

# Include the headers which are generated by uic and moc
# and include additional header
INCLUDE_DIRECTORIES(
	../Base
	../GEO
	../FileIO
	../MSH
	../FEM
	../OGSProject
        ../MathLib ##WW
)

if (Shapelib_FOUND)
	include_directories(${Shapelib_INCLUDE_DIR})
endif (Shapelib_FOUND)


# Create the library
ADD_EXECUTABLE( ogs
	${SOURCES}
	${HEADERS}
)

TARGET_LINK_LIBRARIES( ogs
	FEM
	MSH
	GEO
	MathLib
	FileIO
	Base
	OGSProject
)

if (WIN32)
	if (OGS_FEM_GEMS)
		target_link_libraries( ogs debug GEMS3_dbg optimized GEMS3_rl ) 
	endif (OGS_FEM_GEMS)
	if (LIS)
		target_link_libraries( ogs lisomp ) 
		set_target_properties( ogs PROPERTIES LINK_FLAGS "/NODEFAULTLIB:libcmt" )
	endif (LIS)
	if (OGS_FEM_BRNS)
		target_link_libraries( ogs BrnsDll )
	endif (OGS_FEM_BRNS)
	if (OGS_FEM_CHEMAPP)
		target_link_libraries( ogs ca_vc_e )
	endif (OGS_FEM_CHEMAPP)
endif (WIN32)

if (UNIX)
	if (OGS_FEM_GEMS)
		target_link_libraries( ogs gemipm2k )
	endif (OGS_FEM_GEMS)
	
	if (OGS_FEM_BRNS)
		target_link_libraries( ogs dl )
	endif (OGS_FEM_BRNS)

	if (LIS)
		target_link_libraries( ogs ${LIS_LIBRARIES} )
	endif (LIS)
	
	if (MKL)
		target_link_libraries( ogs ${MKL_LIBRARIES} )
	endif (MKL)
endif (UNIX)

IF (OGS_PACKAGING)
	install (TARGETS ogs RUNTIME DESTINATION bin COMPONENT ogs)
ENDIF (OGS_PACKAGING)
